<!DOCTYPE html>
<html>
<link rel="stylesheet" href="styles.css">
<body>
  <div class="page-container">
    <img src="./cashback_card.png" alt="cashback_product">
    <p>Cashback product with <b>ID UACBC</b> selected</p>
    <button class="button" onclick="openProdAppWithSCDRedirect()">Continue in app</button>
    <button class="skipIdNowButton" onclick="openAppAndSkip('IDNow')">Continue in app (skip only IDNow)</button>
    <button class="skipIdNowButton" onclick="openAppAndSkip('IDNowAndAirlock2FA')">Continue in app (skip IDNow and Airlock2FA)</button>
    <button class="skipIdNowButton2" onclick="openProdApp()">Android - Continue in app</button>
    <button class="skipIdNowButton2" onclick="openProdApp(false)">Android - Continue in app (skip IDNow)</button>

  </div>
  <script>
    function openProdApp(isIDNowActive = true) {
      platform = isIDNowActive ? "ios" : "desktop"
      link = 'https://ulredirect.netlify.app/products/products-prod.html?productCode=UACBC&platform=' + platform
      copyToClipboard(link)
      window.open(link)
    }

    function openProdAppWithSCDRedirect(isIDNowActive = true) {
      platform = isIDNowActive ? "ios" : "desktop"
      link = 'https://redirect-nop.swisscard.ch/index.html?lang=en&productCode=UACBC&platform=' + platform
      copyToClipboard(link)
      window.open(link)
    }

    function openAppAndSkipIDNow() {
      shouldSkipIDNow = shouldSkipIDNow ? "IDNow" : "IDNowAndAirlock2FA"
      link = 'https://redirect-nop.swisscard.ch/index.html?lang=en&productCode=UACBC&skip=' + platform
      copyToClipboard(link)
      window.open(link)
    }

    function openAppAndSkip(nameOfProcessToSkip) {
      link = 'https://redirect-nop.swisscard.ch/index.html?lang=en&productCode=UACBC&skip=' + nameOfProcessToSkip
      copyToClipboard(link)
      window.open(link)
    }

    function copyToClipboard(link) {
      console.log("copy the url to clipboard")
      navigator.clipboard.writeText(link)
    }

  </script>

</body>

</html>